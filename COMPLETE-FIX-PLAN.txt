â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ¯ COMPLETE FIX PLAN - STEP BY STEP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DIAGNOSTIC RESULTS:
âœ… EB Environment: Healthy (Green)
âŒ Backend App: Crashing (502 Bad Gateway)
âŒ API Gateway: 404 (will work once backend works)
âŒ Frontend: 404 (will work once everything else works)

ROOT CAUSE: Missing database environment variables

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STEP 1: SET DATABASE ENVIRONMENT VARIABLES (5 min)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Method A - EB Console (Recommended):
1. Go to: https://console.aws.amazon.com/elasticbeanstalk
2. Select: rellis-calendar-api-env
3. Configuration â†’ Software â†’ Edit
4. Scroll to "Environment properties"
5. Add these 5 variables:
   - DB_HOST = (your RDS endpoint)
   - DB_PORT = 3306
   - DB_USER = (your database username)
   - DB_PASSWORD = (your database password)
   - DB_NAME = (your database name)
6. Click "Apply"
7. Wait 2-3 minutes for update

Method B - EB CLI (Faster):
```bash
cd rellis-calendar-api
eb setenv \
  DB_HOST=your-host \
  DB_PORT=3306 \
  DB_USER=your-user \
  DB_PASSWORD=your-password \
  DB_NAME=your-database
```

Where to find these values:
- Check your local .env file: `cat .env`
- Or AWS RDS Console â†’ Your Database â†’ Configuration

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STEP 2: VERIFY BACKEND WORKS (1 min)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

After environment variables are set, wait 2-3 minutes, then:

```bash
cd rellis-calendar-api
./complete-diagnostic.sh
```

Expected Result:
âœ… Backend is WORKING - HTTP 200
âŒ API Gateway: Still 404 (we'll fix this next)

Or test manually:
```bash
curl http://rellis-calendar-api-env.eba-b5gm3tfj.us-east-2.elasticbeanstalk.com/api/events
```

Should return JSON with events data (not 502 error).

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STEP 3: FIX API GATEWAY ROUTING (3 min)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Go to: https://console.aws.amazon.com/apigateway/home?region=us-east-2

1. Select API: rellis-calendar-api-gateway (p4o6wzh11c)
2. Click "Routes" in left menu
3. Click on route: ANY /{proxy+}
4. Check if "Integration" shows your backend
   - If it shows "None" or "-":
     â†’ Click "Attach integration"
     â†’ Select your backend integration
     â†’ Click "Attach"
5. Click "Deployments" â†’ "Deploy"
6. Stage: $default (or prod)
7. Click "Deploy"

Test:
```bash
curl https://p4o6wzh11c.execute-api.us-east-2.amazonaws.com/api/events
```

Expected: JSON with events data

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STEP 4: DEPLOY FRONTEND CHANGES (3 min)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Your redirects.json is already updated and ready!

```bash
cd rellis-calendar-web
git add public/redirects.json
git commit -m "Update API Gateway endpoint"
git push
```

Amplify will auto-deploy in ~3 minutes.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STEP 5: FINAL VERIFICATION (1 min)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

After Amplify deploys, run:

```bash
cd rellis-calendar-api
./complete-diagnostic.sh
```

Expected Results:
âœ… Backend is WORKING - HTTP 200
âœ… API Gateway is WORKING - HTTP 200
âœ… Amplify redirect is WORKING - HTTP 200
âœ… EB Health: Green

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ“‹ SUMMARY OF ISSUES & FIXES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Issue 1: Backend 502 Error
â†’ Fix: Set DB environment variables in EB
â†’ Status: â³ WAITING FOR YOU TO DO THIS

Issue 2: API Gateway 404
â†’ Fix: Attach route to integration
â†’ Status: â³ DO THIS AFTER BACKEND WORKS

Issue 3: Frontend 404
â†’ Fix: Deploy updated redirects.json
â†’ Status: âœ… FILE UPDATED, READY TO DEPLOY

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸš€ START HERE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Set database environment variables (see STEP 1 above)
2. Wait 2-3 minutes
3. Run: ./complete-diagnostic.sh
4. If backend shows HTTP 200, proceed to STEP 3
5. If still 502, check eb logs for errors

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ“š FILES CREATED TO HELP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

- SOLUTION-SET-ENV-VARS.txt â† How to set environment variables
- complete-diagnostic.sh â† Test all components
- FIX-ROUTE-CONNECTION.txt â† API Gateway troubleshooting
- .env.example â† Template for required variables

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¡ The #1 priority is setting those 5 database environment
   variables in EB. Everything else will follow from that!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

